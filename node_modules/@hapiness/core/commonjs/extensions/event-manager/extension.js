"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Observable_1 = require("rxjs/Observable");
const core_1 = require("../../core");
const manager_1 = require("./manager");
class EventManagerExt {
    /**
     * Initilization of the extension
     *
     * @param  {CoreModule} module
     * @returns Observable
     */
    onExtensionLoad(module) {
        return Observable_1.Observable
            .of(new manager_1.EventManager())
            .map(_ => ({
            instance: this,
            token: EventManagerExt,
            value: _
        }));
    }
    /**
     * Shutdown Event manager
     *
     * @param  {CoreModule} module
     * @param  {EventManager} manager
     * @returns ExtensionShutdown
     */
    onShutdown(module, manager) {
        return {
            priority: core_1.ExtensionShutdownPriority.NORMAL,
            resolver: Observable_1.Observable.of(manager.close())
        };
    }
}
exports.EventManagerExt = EventManagerExt;
//# sourceMappingURL=extension.js.map